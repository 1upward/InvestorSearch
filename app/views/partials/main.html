<div ng-include="'partials/navbar'"></div>

<div class="">
    <p>Search For Investors:</p>
  <p>
  <form name="searchForm" class="form-group" role="form" ng-submit='search(searchForm)'>
    <div ng-repeat='constraint in constraints' class='form-group'>
      <p>
       <tags-input ng-model="selectedCompanies" placeholder='Search for Companies'display-property="name">
          <auto-complete source="completeCompanies($query)"></auto-complete>
       </tags-input>
       <tags-input ng-model="selectedMarkets" placeholder='Search for Markets' display-property="name">
          <auto-complete source="completeMarkets($query)"></auto-complete>
       </tags-input>
     </p>

    <button type="submit" class="btn btn-primary">Submit</button>
    <button type="button" ng-click="clear()" class="btn btn-danger" ng-hide="investors.length < 1">Clear</button>
  </form>
</p>
</div>

<div class="container">
  <button type="button" ng-csv="convertToCsvFormat(investors)" csv-header="['Name', 'Type', 'LinkedIn', 'Location', 'About']" filename="investors.csv">Export Investors to CSV</button>
  <div class="row">
    <div class="spinner ng-hide">
      <span us-spinner></span>
      <span>Hamster wheels are powering our engines. Please be patient.</span>
    </div>
   <!--  <form name="saveForm" class="form-group" role="form"  ng-submit='createList(saveForm)' ng-hide="investors.length < 1">
      <input type="text" class="form-control" ng-model="listName" placeholder="Title">
      <button type="submit" class="btn btn-primary" ng-disabled="disabled">
        Save List
      </button>
    </div>

    <div>
        <ul >
          <li ng-repeat="list in lists"><a href="#" ng-click="showList(list.id)">{{list.list_name}}</a></li>
        </ul>
      </div>

    </form> -->
    <div class="investor-in-list" ng-repeat="investor in investors| index"><div ng-hide="investor.hidden === 1">
      <div class="image">
        <img ng-src="{{investor.image}}" />
      </div>
      <div class="information">
        <span class='lead'>{{investor.name}}</span></br>
        <span ng-repeat="location in investor.locations">{{location.display_name}}<span ng-hide="$index === investor.locations.length-1">,</span>
        </span>
        <br />
        <span>Reason: {{investor.search_reason}}</span><br />
        <span>Score: {{investor.score}}</span><br />
        <span>AngelList Id: {{investor.al_id || investor.id}}</span>
        <a href='#' ng-click='addInvestorToList(investor.id)'>Add this user to my list</a>
      </div>
    </div>
  </div>
</div>
<div>
My saved investors:
  <div class="investor-in-list" ng-repeat="investor in savedInvestors"><div ng-hide="investor.hidden === 1">
      <div class="image">
        <img ng-src="{{investor.image}}" />
      </div>
      <div class="information">
        <span class='lead'>{{investor.name}}</span></br>
        <span ng-repeat="location in investor.locations">{{location.display_name}}<span ng-hide="$index === investor.locations.length-1">,</span>
        </span>
        <br />
        <a href='#' ng-click='addInvestorToList(investor.id)'>Remove this user from my list</a>
      </div>
    </div>
</div>

<div class="footer">
  <p>Brought to you by DreamIt and Fullstack Academy</p>
</div>
